ğŸ“œ é¡¹ç›®ä»£å·ï¼šProject Dogami (Her Universe)
äº§å“éœ€æ±‚æ–‡æ¡£ (PRD) v1.3

1. é¡¹ç›®æ„¿æ™¯ (Project Vision)
ä¸ºåˆ›ä½œè€…æ‰“é€ ä¸€ä¸ª**â€œæ´»çš„â€æ•°å­—ä¸–ç•Œ**ã€‚æ—¢æœ‰å®å¤§çš„åœ°å›¾æ¢ç´¢æ„Ÿï¼Œåˆæœ‰ç»†è…»çš„äººç‰©å›¾é‰´å±•ç¤ºã€‚

2. æ ¸å¿ƒäº¤äº’ï¼šå·è½´å¼è§†å·®å¸ƒå±€ (Scroll Parallax Layout)
*   **Layer 1 (Hero Map)**: é¡µé¢é¡¶éƒ¨ (100vh)ã€‚ä¸€ä¸ªå…¨åŠŸèƒ½çš„äº¤äº’å¼åœ°å›¾å®¹å™¨ã€‚
    *   **æ“ä½œ**: æ”¯æŒåœ¨å®¹å™¨å†…è‡ªç”±ç¼©æ”¾ (Zoom)ã€æ‹–æ‹½ (Pan)ï¼Œä¸å½±å“é¡µé¢æ•´ä½“æ»šåŠ¨ã€‚
    *   **è”åŠ¨**: åœ°å›¾ä¸Šçš„ç‰¹å®šæ“ä½œï¼ˆå¦‚â€œæŸ¥çœ‹è¯¥åœ°è‹±é›„â€ï¼‰ä¼šè§¦å‘é¡µé¢å¹³æ»‘æ»šåŠ¨åˆ°ä¸‹æ–¹çš„â€œè§’è‰²åˆ—è¡¨â€ã€‚
*   **Layer 2 (Content Flow)**: åœ°å›¾ä¸‹æ–¹çš„å†…å®¹æµã€‚
    *   **è§’è‰²åˆ—è¡¨ (The Champions)**: å±•ç¤ºæ‰€æœ‰å·²ç™»åœºè§’è‰²ã€‚
    *   **ç¼–å¹´å² (Timeline)**: æ—¶é—´è½´è®°å½•ã€‚
    *   **é¡µè„š**: ç‰ˆæƒä¿¡æ¯ç­‰ã€‚

3. åŠŸèƒ½æ¨¡å—è¯¦è§£

3.1 æ¨¡å— Aï¼šå¢å¼ºå‹åœ°å›¾ (The Atlas - Hero Section)
*   **æŠ€æœ¯**: `react-zoom-pan-pinch`ã€‚
*   **è§†è§‰**: é«˜æ¸…åº•å›¾ + åˆ†å±‚åŠ¨ç”» (äº‘é›¾/å…‰æ•ˆ)ã€‚
*   **äº¤äº’é€»è¾‘**:
    *   **æ¼«æ¸¸**: ç”¨æˆ·å¯ä»¥æ‹–æ‹½åœ°å›¾æŸ¥çœ‹ä¸–ç•Œçš„è§’è½ã€‚
    *   **é”šç‚¹ (Pin)**: ç‚¹å‡»é”šç‚¹ -> å¼¹å‡º **åœ°ç‚¹è¯¦æƒ…å¡ (Pop-up)**ã€‚
        *   æŒ‰é’® A **"Enter Tavern"**: å¼€å¯é…’é¦†èŠå¤©å¼¹çª— (Modal)ã€‚
        *   æŒ‰é’® B **"View Inhabitants"**: é¡µé¢å¹³æ»‘æ»šåŠ¨è‡³ä¸‹æ–¹çš„è§’è‰²åˆ—è¡¨ï¼Œå¹¶è‡ªåŠ¨è¿‡æ»¤å‡ºè¯¥åœ°åŒºçš„è§’è‰²ã€‚

3.2 æ¨¡å— Bï¼šè®¾å®šç™¾ç§‘ (The Wiki - Scroll Section)
*   **ä½ç½®**: ä½äºåœ°å›¾ä¸‹æ–¹ã€‚
*   **å±•ç¤º**: ç½‘æ ¼å¸ƒå±€ (Grid) æˆ– è½®æ’­å›¾ã€‚
*   **åŠŸèƒ½**: ç‚¹å‡»å¡ç‰‡ -> æ‰“å¼€è¯¦ç»†ä¾§è¾¹æ  (Sidebar) æˆ– è·³è½¬ç‹¬ç«‹é¡µã€‚

3.3 æ¨¡å— Dï¼šé…’é¦†æ¨¡å¼ (The Tavern)
*   **å½¢æ€**: å…¨å±€æ¨¡æ€çª— (Modal) æˆ– è¦†ç›–å±‚ (Overlay)ã€‚
*   **è§¦å‘**: ä»…èƒ½ä»åœ°å›¾ä¸Šçš„åœ°ç‚¹/è§’è‰²å¤´åƒè§¦å‘ï¼Œæˆ–è€…è§’è‰²å¡ç‰‡ä¸Šçš„â€œé—²èŠâ€æŒ‰é’®è§¦å‘ã€‚

4. æ•°æ®åº“è®¾è®¡ (Supabase + RLS)
*   **locations**: åœ°ç‚¹ (id, name, coordinate_x, coordinate_y...)
*   **characters**: è§’è‰² (id, name, location_id, ...)
*   **chat_logs**: èŠå¤©è®°å½• (id, user_id, character_id, content...)

5. æŠ€æœ¯æ ˆ (Tech Stack)
*   **Core**: Vite + React + TypeScript + Tailwind CSS
*   **Motion**: Framer Motion (è§†å·®æ»šåŠ¨/è½¬åœº)
*   **Map**: `react-zoom-pan-pinch`
*   **Backend**: Vercel Serverless Functions (`/api`)
*   **Database**: Supabase
